# values: &values
#   env: dev
#   app: testsuite
#   shortname: tstsut
#   team: common
#   ingress:
#     host: test.dev.entur.io
#     trafficType: public
#   container:
#     image: img
#   configmap:
#     enabled: true
#     data:
#       FOO: bar

suite: test configmap
values:
  - ./values/common-test-values.yaml
templates:
  - configmap.yaml
tests:
  - it: must have labels
    asserts:
      - isNotEmpty:
          path: metadata.labels
      - equal:
          path: data.FOO
          value: bar
  - it: can override release name
    set:
      releaseName: override
    asserts:
      - equal:
          path: metadata.name
          value: override
